\documentclass[pagesize=false,frenchb]{scrartcl}
% \usepackage[margin=1in]{geometry}

\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}

% Put some french in it
\usepackage{polyglossia}

\newcommand{\pref}[1]{\ref{#1} à la page~\pageref{#1}}

% And hypertext links everywhere
\usepackage{hyperref}

% To get a proper text encoding with xelatex
\usepackage{fontspec}
\setmainfont{Crimson-Roman.otf}[
  Path =./fonts/,
  BoldFont = Crimson-Bold.otf,
  ItalicFont = Crimson-Italic.otf,
  BoldItalicFont = Crimson-BoldItalic.otf
]

% Render inference rules
\usepackage{mathpartir}
% The labels of those rules
\newcommand{\irlabel}[1]{\text{\emph{(#1)}}}

% Some math caracters (\{ll,rr}bracket in particular)
\usepackage{stmaryrd}
% Who could live without those ?
\usepackage{amsmath}
\usepackage{amssymb}

\usepackage{xfrac}

% Fore code blocks
\usepackage{listings}
\definecolor{lstbg}{rgb}{0, 0, 0.3}
\lstdefinelanguage{NLight}{%
  morekeywords={let,in,if,then,else,Cons,Nil},
  morekeywords={[2]Int,true,false,Bool,T, Empty, Any},   % types go here
  otherkeywords={:,;,=,[,],\{,\},...}, % operators go here
  literate={% replace strings with symbols
    {->}{{$\to$}}{1}
    {<>}{{$\diamond$}}{1}
    {lambda}{{$\lambda$}}{1}
    {tau}{{\ensuremath{\tau}}}{1}
    {rho}{{\ensuremath{\rho}}}{1}
    {tin}{{$\in$}}{1}
    {\&}{{$\wedge$}}{1}
    {AND}{{$\wedge$}}{1}
    {LB}{{\{}}{1}
    {RB}{{\}}}{1}
    {...}{{$\cdots$}}{1}
    {DOLLAR}{{\$}}{1}
    {(|}{{\ensuremath{\llbracket}}}{1} % chktex 9
    {|)}{{\ensuremath{\rrbracket}}}{1} % chktex 9
    {(||}{{\ensuremath{\llparenthesis}}}{1} % chktex 9
    {||)}{{\ensuremath{\rrparenthesis}}}{1} % chktex 9
  },
  basicstyle={\sffamily},
  keywordstyle={\bfseries},
  keywordstyle={[2]\itshape}, % style for types
  keepspaces,
  mathescape % optional
}[keywords,comments,strings]
\lstset{%
  escapeinside={//*}{*//},
  breaklines=true,
  mathescape=true,
  language=NLight,
  basicstyle=\color{lstbg}
}

\lstMakeShortInline{°}

\usepackage{myunicode}

% Some useful macros
\catcode`τ=13
\catcode`λ=13
\catcode`Γ=13
\newcommand{λ}{\ensuremath{\lambda}}
\newcommand{τ}{\ensuremath{\tau}}
\newcommand{τ}{\ensuremath{\tau}}
\newcommand{\lbl}[1]{\text{(\emph{#1})}}
% Subtyping
\newcommand{\subtype}{\leq}
\newcommand{\subtypeG}{\tilde\subtype}
% Builtin types
\DeclareMathOperator\Empty{Empty}
\DeclareMathOperator\Any{Any}
\DeclareMathOperator\grad{?}
\DeclareMathOperator\cons{Cons}
\newcommand{\tcheck}{\vdash^{\Downarrow}}
\newcommand{\tinfer}{\vdash^{\Uparrow}}
\newcommand{\tIC}{\vdash^{\delta}}

\title{Rapport de stage}
\subtitle{Un système de types pour Nix}
\author{Théophane Hufschmitt}
\date{21 Août 2017}

\begin{document}
\maketitle

\tableofcontents

\pagebreak

\input{generated/main.tex}
\bibliographystyle{alpha}
\bibliography{references}
\end{document}
