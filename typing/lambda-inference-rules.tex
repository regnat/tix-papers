\begin{figure}
  \begin{mathpar}

    \inferrule{ }{\Gamma \tinfer x:\Gamma(x)}\lbl{IVar}
    \and\inferrule{ \Gamma(x) \subtypeG \tau }{\Gamma; \tcheck x:\tau}\lbl{CVar}

    \and\inferrule{ }{\Gamma \tinfer c:\Bt(c)}\lbl{IConst}
    \and\inferrule{ \Bt(c) \subtypeG \tau }{\Gamma \tcheck c:\tau}\lbl{CConst}

    \and\inferrule{%
      \Gamma;\tmatch{\accept{p}}{p} \tinfer e : \τ
    }{%
      \Gamma \tinfer \lambda p.e : \accept{p} \rightarrow \tau
    } \lbl{IAbs}

  \and\inferrule{%
    \tau \subtype \Empty \rightarrow \Any \\
    \forall \sigma_1 \rightarrow \sigma_2 \in \A(\tau), \\
      \Gamma;\tmatch{\sigma_1}{p} \tcheck e : \sigma_2
  }{%
    \Gamma \tcheck \lambda p.e : \tau
  }\lbl{CAbs}


  \and\inferrule{%
    \Gamma \tinfer e_1 : \tau_1 \\ \Gamma \tinfer e_2 : \tau_2 \\
    \tau_1 \subtypeG \Empty \rightarrow \Any \\
    \tau_2 \subtypeG \dom(\tau_1)
  }{%
    \Gamma \tinfer e_1 e_2 : \tau_1 \image \tau_2
  }\lbl{IApp}

  \and\inferrule{%
    \Gamma \tinfer e_2 : \sigma \\
    \Gamma \tcheck e_1 : \sigma \rightarrow \tau
  }{%
    \Gamma \tcheck e_1 e_2 : \tau
  }\lbl{Capp}

  \and\inferrule{%
    \forall i \in \{ 1 \ldots n \},
      \Gamma; x_1 : ?; \cdots; x_n : ?; x'_1 : \tau'_1; \cdots; x'_m : \tau'_m \tinfer e_i : \tau_i \\
    \forall i \in \{ 1 \ldots m \},
      \Gamma; x_1 : ?; \cdots; x_n : ?; x'_1 : \tau'_1; \cdots; x'_m : \tau'_m \tcheck e'_i : \tau'_i \\
    \Gamma; x_1 : \tau_1; \cdots; x_n : \tau_n; x'_1 : \tau'_1; \cdots; x'_m : \tau'_m \tIC e : \tau
  }{%
    \Gamma \tIC \text{let } x_1 = e_1; \cdots; x_n = e_n; x'_1 : \tau'_1 = e'_1; \cdots; x'_m : \tau'_m = e'_m;
      \text{ in } e : \tau
  }\lbl{Let}

  \and\inferrule{%
    \Gamma \tinfer e : \tau \\
    \tau \not\subtype \lnot t \Rightarrow \Gamma; x : \tau \wedge t \tinfer e_1 : \sigma_1 \\
    \tau \not\subtype t \Rightarrow \Gamma; x : \tau \wedge \lnot t \tinfer e_2 : \sigma_2 \\
  }{%
    \Gamma \tinfer (x = e \in t) ? e_1 : e_2 : \sigma_1 \vee \sigma_2
  }\lbl{ITcase}

  \and\inferrule{%
    \Gamma \tinfer e : \tau \\
    \tau \not\subtype \lnot t \Rightarrow \Gamma; x : \tau \wedge t \tcheck e_1 : \sigma \\
    \tau \not\subtype t \Rightarrow \Gamma; x : \tau \wedge \lnot t \tcheck e_2 : \sigma \\
  }{%
    \Gamma \tcheck (x = e \in t) ? e_1 : e_2 : \sigma
  }\lbl{CTcase}

  \end{mathpar}
  \caption{Inference and check rules for the lambda-calculus with typecase\label{typing::lambda-calculus}}
\end{figure}
