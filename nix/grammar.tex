The grammar of nix is given at Figures~\pref{grammar::nix}
and~\pref{grammar::types}. It consists\todo{Remove as soon as the grammar is
extended} of a simple lambda calculus with lists, constants and some type
annotations.

The set of constants $c$ constists of strings $s$, integers $i$, booleans $b$
and a set of builtins functions $f$.

\begin{figure}
  \begin{grammar}
    \bfseries
    <e> ::=
    $x$ \| $c$
    \alt $\λ$$p$.$e$ \| $e$ $e$
    \alt let $x$ = $e$; $\cdots{}$; $x$ = $e$; in $e$
    \alt [ $e$ $\cdots$ $e$ ]
    \alt if $e$ then $e$ else $e$

    <c> ::= $s$ \| $i$ \| $b$ \| $f$

    <p> ::= $q$ \| $q$@$x$ \| $r$

    <q> ::= ($r$, $r$) \| $q$:\τ

    <r> ::= $x$ | $x$:\τ
  \end{grammar}
  \caption{\label{grammar::nix}The nix grammar for expressions}
\end{figure}

\begin{figure}
  \input{nix/types}
  \caption{\label{grammar::types}The nix and nix-light grammar for types}
\end{figure}
